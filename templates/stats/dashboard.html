{% extends 'base.html'%}
{% load pipeline %}
{% load i18n %}

{% block bread %}
<nav class="breadcrumb has-arrow-separator" aria-label="breadcrumbs">
  <ul>
    <li>
      <a href="/">
        <span class="icon is-small">
          <i class="fas fa-home" aria-hidden="true"></i>
        </span>
        <span>Inicio</span>
      </a>
    </li>
    <li class="is-active"><a href="#" aria-current="page">{% trans "Stats" %}</a></li>
  </ul>
</nav>
{% endblock bread %} 

{% block content %}
{% javascript 'libs/apexcharts.js' %}
{% javascript 'libs/bulma-calendar/bulma-calendar.js' %}
{% stylesheet 'libs/bulma-calendar/bulma-calendar.css' %}
<div class="is-fullhd">
  <h3 class="title is-3 has-text-centered">{% trans "Requests summary" %}</h3>
  <div class="columns is-multiline">
    <div class="column">
      <div class="box notification has-text-centered">
        <div class="heading">{% trans "Active" %}</div>
        <div class="title">{{ datos.total_active }}</div>
      </div>
    </div>
    <div class="column">
      <div class="box notification has-text-centered">
        <div class="heading">{% trans "Unique" %}</div>
        <div class="title">
          {{ datos.total_active_unique_phone }}
        </div>
      </div>
    </div>
    <div class="column">
      <div class="box notification has-text-centered">
        <div class="heading">{% trans "Resolved" %}</div>
        <div class="title">{{ datos.total_resolved }}</div>
      </div>
    </div>
    <div class="column">
      <div class="box notification has-text-centered">
        <div class="heading">{% trans "Today" %}</div>
        <div class="title">{{ datos.today }}</div>
      </div>
    </div>
    <div class="column">
      <div class="box notification has-text-centered">
        <div class="heading">{% trans "Yesterday" %}</div>
        <div class="title">{{ datos.yesterday }}</div>
      </div>
    </div>
  </div>
</div>

<div class="is-fullhd" style="margin-top: 4em;">
    <h3 class="title is-3 has-text-centered">{% trans "Requests per day" %}</h3>
    <div class="field">
        <label class="label">{% trans "Period" %}</label>
        <div class="control">
          <input class="input datepicker" type="date">
        </div>
      </div>

    <div class="box">
        <div id="requests-linechart"></div>
    </div>
</div>
{% javascript 'requests-linechart.js' %}
{% endblock %}
